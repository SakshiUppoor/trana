{% extends 'base.html' %}
{% load static %}
{% block title%}Doctor Consultation{% endblock title %}<div class="modal-body">
    

    {% block css %}
    <link rel="Stylesheet" href="{% static 'css/user.css' %}">
    {% endblock css %}
    {% block body%}



    <div class="elementor-widget-wrap">

    <section class="sign_in">
    <div class="container">
        <div class="sign_info">
          <div class="row">
            <div class='col-lg-2'></div>
            <div class='col-lg-8'>
              <h2 class="heading">Doctor Consultation</h2>
                <div class="form-wrap" style="padding: 0px;">
                    <form  action="{% url 'consult' %}" method='POST' id="consult">
                      {% csrf_token %}

                        <div class="row">
                            <div class="col-md-12">
                            <div class="form-group text_box">
                              <textarea rows="4" cols="72" name="message" style="height:50vh;" placeholder="Enter Your Message..."></textarea>
                            </div>
                            </div>
                        </div> 
                        <div class="form-group">
                            <input type="hidden" id="lat" name="lat">
                             <input type="hidden" id="lon" name="lon">
                        </div>
                        <div style="text-align:center">
                            <input type="submit" id="send_message" value="Send Message">
                        </div>
                    </form>
                </div>
            </div>
          </div>
        </div>
    </div>
    </section>
    </div>

    <script>
                //Getting the location saving it to the hidden field
        var lat = document.getElementById("lat");
        var lon = document.getElementById("lon");
        
        getLocation()
        function getLocation() {
            if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
            } else { 
            x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }
        
        function showPosition(position) {
            lat.value = position.coords.latitude;
            lon.value = position.coords.longitude;
            console.log(position.coords.latitude, position.coords.longitude);
        }
    </script>
    {% endblock body %}